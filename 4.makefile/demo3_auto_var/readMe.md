## 自动化变量解释

| 变量                     | 含义                                      |
| ------------------------ | ----------------------------------------- |
| `$@`                     | 目标的名称（如 app）                      |
| `$<`                     | 第一个依赖文件（如 main.c）               |
| `$^`                     | 所有依赖文件（去重）                      |
| `$+`                     | 所有依赖文件（不去重，保顺序）            |
| `$*`                     | 目标文件名去掉扩展名（如 main.o -> main） |
| `$(@F)`                  | 目标的文件名，不含路径                    |
| `$(<D)` / `$(dir $<)`    | 依赖文件的目录                            |
| `$(<F)` / `$(notdir $<)` | 依赖文件的文件名，不含路径                |
| `$(suffix $<)`           | 依赖文件的扩展名（如 .c）                 |
| `$(basename $<)`         | 去掉扩展名后的文件名                      |

---

## 自动化变量适用范围

| 变量             | 仅用于哪个规则？ | 含义                             |
| ---------------- | ---------------- | -------------------------------- |
| `$@`             | 目标规则中       | 当前规则的目标文件名             |
| `$<`             | 单个依赖规则中   | 第一个依赖文件（编译时常用）     |
| `$^`             | 多个依赖规则中   | 所有依赖（无重复）               |
| `$+`             | 多个依赖规则中   | 所有依赖（保留重复 & 顺序）      |
| `$*`             | 模式规则中       | 匹配模式的“主名”部分             |
| `$(@F)`          | 所有规则         | 目标的**文件名**，不含路径       |
| `$(<F)`          | 所有规则         | 第一个依赖的**文件名**，不含路径 |
| `$(dir $<)`      | 所有规则         | 第一个依赖的目录路径             |
| `$(suffix $<)`   | 所有规则         | 第一个依赖的扩展名               |
| `$(basename $<)` | 所有规则         | 第一个依赖去扩展名后的主名       |

